(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{65:function(t,e,n){"use strict";n.r(e);var a,r,o,c,i,u,l,s,d,b=n(0),j=n.n(b),p=n(15),f=n.n(p),O=n(6),x=n(9),h=n(30),m=n(2),v=n(14),g=n.n(v),y=n(16),k=n(11),w=n(12),S=new(function(){function t(){Object(k.a)(this,t),this.localStorage=void 0,this.localStorage=localStorage}return Object(w.a)(t,[{key:"setItem",value:function(t,e){return this.localStorage.setItem(t,e)}},{key:"getItem",value:function(t){var e=this.localStorage.getItem(t);return null!==e&&void 0!==e?e:"Post Not Found."}},{key:"removeItem",value:function(t){return this.localStorage.removeItem(t)}},{key:"editItem",value:function(t,e){return this.getItem(t)?(this.setItem(t,e),"Post saved successfully."):"Post not found."}}]),t}()),C=n(31),P=n.n(C),I=new(function(){function t(){Object(k.a)(this,t)}return Object(w.a)(t,[{key:"get",value:function(){var t=Object(y.a)(g.a.mark((function t(e){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P.a.get(e).then((function(t){return t.data}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}]),t}()),T=new(function(){function t(){Object(k.a)(this,t)}return Object(w.a)(t,[{key:"getPosts",value:function(){return"https://newsapi.org/v2/everything?q=watches&sortBy=popularity&apiKey=d2fc94872d8d49a2a31dc8c7f6266d7f"}}]),t}()),E="GET_LOCAL_POSTS",R="GET_REMOTE_POSTS",V="CREATE_POST",_="EDIT_POST",D="REMOVE_POST",J=function(){var t=localStorage;return Object.entries(t).map((function(t){return{id:t[0],value:JSON.parse(t[1])}}))},z=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;switch(e.type){case R:return Object(m.a)(Object(m.a)({},t),{},{remotePosts:e.payload});case E:case V:case _:case D:return Object(m.a)(Object(m.a)({},t),{},{localPosts:e.payload});default:return t}},F=[n(32).a],M=Object(x.createStore)(z,Object(h.composeWithDevTools)(x.applyMiddleware.apply(void 0,F))),N=n(3),A=n(7),L=n(4),B=n(1),G=function(t){var e=t.text,n=t.onClick;return Object(B.jsx)(q,{onClick:n,children:e})},q=L.b.button(a||(a=Object(N.a)(["\n  border: 1px solid transparent;\n  padding: 0.8em;\n  background: #378ad3;\n  color: white;\n  border-radius: 3px;\n  :hover {\n    background: #3ca4ff;\n    cursor: pointer;\n  }\n"]))),K=n(10),W=n(67),H=function(t){return Object(B.jsx)(Q,{onChange:t.onChange,placeholder:t.placeholder,name:t.name,defaultValue:t.defaultValue})},Q=L.b.textarea(r||(r=Object(N.a)(["\n  color: white;\n  border: 1px solid #697075;\n  padding: 10px;\n  background: transparent;\n  border-radius: 3px;\n  max-width: 100%;\n  min-width: 100%;\n  :focus {\n    outline: none;\n    border: 1px solid #378ad3;\n  }\n"]))),U=function(t){return Object(B.jsx)(X,{onChange:t.onChange,placeholder:t.placeholder,name:t.name,defaultValue:t.defaultValue})},X=L.b.input(o||(o=Object(N.a)(["\n  color: white;\n  border: 1px solid #697075;\n  padding: 10px;\n  background: transparent;\n  border-radius: 3px;\n  width: 100%;\n  :focus {\n    outline: none;\n    border: 1px solid #378ad3;\n  }\n"]))),Y=function(){var t=Object(O.b)(),e=Object(b.useState)({title:"",text:""}),n=Object(A.a)(e,2),a=n[0],r=n[1],o=function(t){r(Object(m.a)(Object(m.a)({},a),{},Object(K.a)({},t.target.name,t.target.value)))};return Object(B.jsxs)(Z,{children:[Object(B.jsx)(U,{onChange:o,placeholder:"Title field...",name:"title"}),Object(B.jsx)(H,{onChange:o,placeholder:"Text field...",name:"text"}),Object(B.jsx)(G,{onClick:function(){if(!(null===a||void 0===a?void 0:a.text)||!(null===a||void 0===a?void 0:a.title))return alert("Fields can't be empty");var e,n;t((e=Object(W.a)(),n=a,function(t){S.setItem(e,JSON.stringify(n));var a=J();return t({type:V,payload:a})}))},text:"Create Post"})]})},Z=L.b.div(c||(c=Object(N.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  width: 300px;\n  margin: 20px;\n\n  textarea {\n    margin: 10px 0;\n  }\n"]))),$=function(t){var e=Object(O.b)(),n=Object(b.useState)(!1),a=Object(A.a)(n,2),r=a[0],o=a[1],c=Object(b.useState)({title:"",text:""}),i=Object(A.a)(c,2),u=i[0],l=i[1],s=function(t){l(Object(m.a)(Object(m.a)({},u),{},Object(K.a)({},t.target.name,t.target.value)))};return Object(B.jsxs)(et,{children:[r?Object(B.jsx)(U,{defaultValue:t.value.title,name:"title",onChange:s}):Object(B.jsx)("h1",{children:t.value.title}),r?Object(B.jsx)(H,{defaultValue:t.value.text,name:"text",onChange:s}):Object(B.jsx)("p",{children:t.value.text}),!t.isRemote&&Object(B.jsxs)(nt,{children:[Object(B.jsx)(G,{text:"Edit",onClick:function(){o(!0),l({title:t.value.title,text:t.value.text})}}),Object(B.jsx)(G,{text:"Save",onClick:function(){var n,a;o(!1),e((n=t.id,a=u,function(t){S.setItem(n,JSON.stringify(a));var e=J();return t({type:_,payload:e})}))}}),Object(B.jsx)(G,{text:"Remove",onClick:function(){var n;e((n=t.id,function(t){S.removeItem(n);var e=J();return t({type:D,payload:e})}))}})]})]})},tt=Object(b.memo)($),et=L.b.div(i||(i=Object(N.a)(["\n  width: 100%;\n  margin: 40px 0;\n\n  h1,\n  p,\n  input {\n    color: #e6e9ec;\n  }\n\n  h1 {\n    padding-bottom: 20px;\n    border-bottom: 1px solid #4a4e51;\n    margin-bottom: 20px;\n  }\n\n  button {\n    background: none;\n    color: #acb2b8;\n\n    :hover {\n      color: #b9c0c7;\n      background: transparent;\n    }\n  }\n\n  input {\n    margin-bottom: 20px;\n  }\n"]))),nt=L.b.div(u||(u=Object(N.a)([""]))),at=function(){var t=Object(O.b)(),e=Object(b.useState)(!0),n=Object(A.a)(e,2),a=n[0],r=n[1],o=Object(b.useCallback)((function(){return t((function(t){var e=J();return t({type:E,payload:e})}))}),[t]),c=Object(b.useCallback)((function(){return t(function(){var t=Object(y.a)(g.a.mark((function t(e){var n,a;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,I.get(T.getPosts());case 2:if("ok"===(n=t.sent).status){t.next=5;break}return t.abrupt("return");case 5:return a=n.articles.map((function(t){return{id:t.publishedAt,value:{title:t.title,text:t.description}}})),t.abrupt("return",e({type:R,payload:a}));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}),[t]),i=Object(O.c)((function(t){return t.localPosts})),u=Object(O.c)((function(t){return t.remotePosts}));Object(b.useEffect)((function(){o(),c()}),[o,c]);return Object(B.jsxs)(rt,{children:[Object(B.jsx)(Y,{}),Object(B.jsxs)(ot,{children:[Object(B.jsx)(G,{text:"Local Posts",onClick:function(){r(!0)}}),Object(B.jsx)(G,{text:"Remote Posts",onClick:function(){r(!1)}})]}),a?null===i||void 0===i?void 0:i.map((function(t){return Object(B.jsx)(B.Fragment,{children:Object(B.jsx)(tt,{isRemote:!1,id:t.id,value:t.value},t.id)})})):null===u||void 0===u?void 0:u.map((function(t){return Object(B.jsx)(tt,{isRemote:!0,id:t.id,value:t.value},t.id)}))]})},rt=L.b.div(l||(l=Object(N.a)(["\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]))),ot=L.b.div(s||(s=Object(N.a)(["\n  margin-top: 50px;\n  button {\n    background: none;\n    color: #acb2b8;\n    font-size: 1.8rem;\n    font-weight: bold;\n\n    :hover,\n    :focus {\n      outline: none;\n      background: #378ad3;\n      color: #b9c0c7;\n      background: transparent;\n    }\n  }\n"]))),ct=Object(L.a)(d||(d=Object(N.a)(["\n  *,\n  *::after,\n  *::before {\n    margin: 0;\n    padding: 0;\n    box-sizing: border-box; \n    font-family: monospace, sans-serif;\n  }\n\n  html,\n  body,\n  #root {\n    height: 100%;\n  }\n\n  html {\n    font-size: 62.5%;\n  }\n\n  body {\n    font-weight: 400;\n    line-height: 22px;\n    font-size: 1.4rem;\n    max-width: 900px;\n    margin: 0 auto;\n    color: white; \n    -webkit-font-smoothing: antialiased !important;\n    background-color: #2D2D2D;\n  }\n"]))),it=function(){return Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(at,{}),Object(B.jsx)(ct,{})]})};f.a.render(Object(B.jsx)(j.a.StrictMode,{children:Object(B.jsx)(O.a,{store:M,children:Object(B.jsx)(it,{})})}),document.getElementById("root"))}},[[65,1,2]]]);
//# sourceMappingURL=main.6f95a9f2.chunk.js.map